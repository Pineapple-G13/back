<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="ie=edge" http-equiv="X-UA-Compatible" />

    <title>Pineapple Supermarket</title>
    <!-- <link rel="icon" href="../static/img/faviconMin.ico" /> -->
    <link rel="icon" th:href="@{/img/faviconMin.ico}" />
    <!--BOOTSTRAP -->
    <!-- <link rel="stylesheet" href="../static/assets/bootstrap.min.css" /> -->
    <link rel="stylesheet" th:href="@{../static/assets/bootstrap.min.css}" />
    <!-- CSS -->
    <!-- <link rel="stylesheet" href="../static/css/Login.css" /> -->
    <link rel="stylesheet" th:href="@{/css/Login.css}" />
</head>

<body>
    <!-- Barra de navegacion -->
    <!-- <nav th:replace="fragments/navbar :: navbar"></nav> -->

    <nav class="navbar navbar-expand-md navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" th:href="@{/login}"><img th:src="@{/img/open-book.png}" width="45" /></a>
            <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
                class="navbar-toggler" data-bs-target="#navbarSupportedContent" data-bs-toggle="collapse" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="text-end">
                <a class="btn btn-light me-1" th:href="@{/login}">Log in</a>
                <a class="btn btn-warning" th:href="@{/signup}">Sing up</a>
            </div>
        </div>
    </nav>

    <div th:if="${error}" class="container mt-4 text-center">
        <div class="row col-md-4 mx-auto">
            <div th:text="${error}" class="alert alert-danger m-0 shadow"></div>
        </div>
    </div>

    <div th:if="${logout}" class="container mt-4 text-center">
        <div class="row col-md-4 mx-auto">
            <div th:text="${logout}" class="alert alert-success m-0 shadow"></div>
        </div>
    </div>

    <div class="container p-4">
        <div class="row">
            <div class="col-md-4 mx-auto px-0">
                <div class="card shadow">
                    <div class="card-header">
                        <!-- <img src="../static/img/logoHome.svg" class="img-responsive loginLogo" alt="logoHome" /> -->
                        <img th:src="@{/img/logoHome.svg}" class="img-responsive loginLogo" alt="logoHome" />
                    </div>
                    <div class="card-body">
                        <form id="formulario" class="needs-validation mb-4" th:action="@{/logincheck}" method="POST"
                            autocomplete="off" novalidate>

                            <div class="form-group mb-3">
                                <label>Username</label><br />
                                <input id="correo" type="email" name="correo" class="form-control" required />
                                <div class="invalid-feedback text-start">Username is required</div>
                            </div>

                            <div class="form-group mb-3">
                                <label>Password</label><br />
                                <input id="clave" type="password" name="clave" class="form-control" required />
                                <div class="invalid-feedback text-start">Password is required</div>
                            </div>

                            <div class="form-group d-grid gap-2">
                                <button class="btnLogin" type="submit">Log in</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer th:replace="fragments/footer :: footer"></footer>
    <!-- JS-->
    <!-- <script src="../../static/assets/bootstrap.bundle.min.js"></script> -->
    <script src="@{/assets/bootstrap.bundle.min.js}"></script>
    <script>
        (() => {
            "use strict";

            const form = document.getElementById("formulario");
            form.addEventListener("submit", (event) => {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }

                form.classList.add("was-validated");
            }, false);
        })()
    </script>
</body>

</html>